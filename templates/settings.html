<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Settings - OpenU</title>
    <link rel="stylesheet" href="../static/css/style.css">
    <link rel="stylesheet" href="../static/css/reset.css">
    <link rel="stylesheet" href="../static/responsive/tablet.css">
    <link rel="stylesheet" href="../static/css/responsive-mobile.css">
</head>
<body style="overflow-x: hidden">
    <div class="set-page-container">
        <header class="setting-header">
            <span class="setting-banner">Settings</span>
            <div class="donate"><i class="fa-solid fa-list-check"></i> Donate</div>
            <div class="mobile-nav-setting none">
                <ul class="nav-setting-container">
                    <li class="general">General</li>
                    <li class="notes">Notes</li>
                    <li class="set-notifications">Notifications</li>
                </ul>
                </div>
            <div class="back-btn-setting">
                <a href="/home"><i class="fas fa-home"></i></a>
            </div>
        </header>
        <main class="setting-body">
            <section class="nav-setting">
                <div class="nav-setting-container">
                    <div class="general">General</div>
                    <div class="notes">Notes</div>
                    <div class="set-notifications">Notifications</div>
                </div>
            </section>
            <section class="setting-container">
                <div class="setting-mode">General</div>
                <form method="POST" action="/settings" enctype="multipart/form-data">
                    {{ form.hidden_tag() }}
                
                    <div class="account-edit-entry">
                        {{ form.name(class="account-edit-entry__input", placeholder="Your full name") }}
                        <div class="account-edit-entry__label">Name</div>
                        {% if form.name.errors %}
                            <div class="error-message">{{ form.name.errors[0] }}</div>
                        {% endif %}
                    </div>
                
                    <div class="account-edit-entry">
                        {{ form.username(class="account-edit-entry__input", placeholder="Your username") }}
                        <div class="account-edit-entry__label">Username</div>
                        {% if form.username.errors %}
                            <div class="error-message">{{ form.username.errors[0] }}</div>
                        {% endif %}
                    </div>
                
                    <div class="account-edit-entry">
                        {{ form.email(class="account-edit-entry__input", placeholder="Your email") }}
                        <div class="account-edit-entry__label">Email</div>
                        {% if form.email.errors %}
                            <div class="error-message">{{ form.email.errors[0] }}</div>
                        {% endif %}
                    </div>
                
                    <div class="account-edit-entry">
                        {{ form.password(class="account-edit-entry__input", placeholder="New password") }}
                        <div class="account-edit-entry__label">Password</div>
                        {% if form.password.errors %}
                            <div class="error-message">{{ form.password.errors[0] }}</div>
                        {% endif %}
                    </div>
                
                    <div class="account-edit-entry">
                        {{ form.bio(class="account-edit-entry__input", placeholder="Tell about yourself...") }}
                        <div class="account-edit-entry__label">Bio</div>
                        {% if form.bio.errors %}
                            <div class="error-message">{{ form.bio.errors[0] }}</div>
                        {% endif %}
                    </div>
                
                    <div class="account-edit-entry">
                        {{ form.avatar(class="account-edit-entry__input") }}
                        <div class="account-edit-entry__label">Upload Avatar</div>
                        {% if form.avatar.errors %}
                            <div class="error-message">{{ form.avatar.errors[0] }}</div>
                        {% endif %}
                    </div>
                
                    <div class="account-edit-entry">
                        <button type="submit" class="btn-osu-big btn-osu-big--account-edit">
                            <div class="btn-osu">Save Changes</div>
                        </button>
                    </div>
                </form>                
            </section>
        </main>
    </div>
    {% if profile_pic %}
    <style>
      .setting-ava {
        background-image: url("../assests/static{{ url_for('static', filename='../users_uploads/' + profile_pic) }}");
      }
    </style>
    {% endif %} 
    <script src="https://kit.fontawesome.com/c9f23d41c7.js" crossorigin="anonymous"></script>
    <script>
        var editSet = document.querySelector(".btn-edit-setting");
        var btnSave = document.querySelector(".save-change");
        var setAreaRight = document.querySelector(".set-area-right");
        var itemClose = document.querySelector(".item-close-set");

        editSet.addEventListener("click", function(event) {

            event.preventDefault();

            if(btnSave.classList.contains("hidden-element")) {
                btnSave.classList.remove("hidden-element");
            }

            if(setAreaRight.classList.contains("hidden-element")) {
                setAreaRight.classList.remove("hidden-element");
            }
        })

        itemClose.addEventListener("click", function() {
            if(!btnSave.classList.contains("hidden-element")) {
                btnSave.classList.add("hidden-element");
            }

            if(!setAreaRight.classList.contains("hidden-element")) {
                setAreaRight.classList.add("hidden-element");
            }
        })
    </script>
</body>
</html>