<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Settings - OpenU</title>
    <link rel="stylesheet" href="../static/css/style.css">
    <link rel="stylesheet" href="../static/css/reset.css">
    <link rel="stylesheet" href="../static/responsive/tablet.css">
    <link rel="stylesheet" href="../static/css/responsive-mobile.css">
</head>
<body style="overflow-x: hidden">
    <div class="set-page-container">
        <header class="setting-header">
            <span class="setting-banner">Settings</span>
            <div class="donate"><i class="fa-solid fa-list-check"></i> Donate</div>
            <div class="mobile-nav-setting none">
                <ul class="nav-setting-container">
                    <li class="general">General</li>
                    <li class="notes">Notes</li>
                    <li class="set-notifications">Notifications</li>
                </ul>
                </div>
            <div class="back-btn-setting">
                <a href="/home"><i class="fas fa-home"></i></a>
            </div>
        </header>
        <main class="setting-body">
            <section class="nav-setting">
                <div class="nav-setting-container">
                    <div class="general">General</div>
                    <div class="notes">Notes</div>
                    <div class="set-notifications">Notifications</div>
                </div>
            </section>
            <section class="setting-container">
                <div class="setting-mode">General</div>
                <form method="POST" action="/settings" enctype="multipart/form-data">
                    <div class="account-edit-entry">
                        <input type="text" name="name" class="account-edit-entry__input" placeholder="Your full name" value="{{ name }}">
                        <div class="account-edit-entry__label">Name</div>
                        {% if name_error %}
                            <div class="error-message">{{ name_error }}</div>
                        {% endif %}
                    </div>
                
                    <div class="account-edit-entry">
                        <input type="text" name="username" class="account-edit-entry__input" placeholder="Your username" value="{{ username }}">
                        <div class="account-edit-entry__label">Username</div>
                        {% if username_error %}
                            <div class="error-message">{{ username_error }}</div>
                        {% endif %}
                    </div>
                
                    <div class="account-edit-entry">
                        <input type="email" name="email" class="account-edit-entry__input" placeholder="Your email" value="{{ email }}">
                        <div class="account-edit-entry__label">Email</div>
                        {% if email_error %}
                            <div class="error-message">{{ email_error }}</div>
                        {% endif %}
                    </div>
                
                    <div class="account-edit-entry">
                        <input type="password" name="password" class="account-edit-entry__input" placeholder="New password">
                        <div class="account-edit-entry__label">Password</div>
                        {% if password_error %}
                            <div class="error-message">{{ password_error }}</div>
                        {% endif %}
                    </div>
                
                    <div class="account-edit-entry">
                        <textarea name="bio" class="account-edit-entry__input" placeholder="Tell about yourself...">{{ bio }}</textarea>
                        <div class="account-edit-entry__label">Bio</div>
                        {% if bio_error %}
                            <div class="error-message">{{ bio_error }}</div>
                        {% endif %}
                    </div>
                
                    <div class="account-edit-entry">
                        <input type="file" name="avatar" class="account-edit-entry__input">
                        <div class="account-edit-entry__label">Upload Avatar</div>
                        {% if avatar_error %}
                            <div class="error-message">{{ avatar_error }}</div>
                        {% endif %}
                    </div>
                
                    <div class="account-edit-entry">
                        <button type="submit" class="btn-osu-big btn-osu-big--account-edit">
                            <div class="btn-osu">Save Changes</div>
                        </button>
                    </div>
                </form>                
            </section>
        </main>
    </div>
    {% if profile_pic %}
    <style>
      .setting-ava {
        background-image: url("../static{{ url_for('static', filename='../users_uploads/' + profile_pic) }}");
      }
    </style>
    {% endif %} 
    <script src="https://kit.fontawesome.com/c9f23d41c7.js" crossorigin="anonymous"></script>
    <script>
        var editSet = document.querySelector(".btn-edit-setting");
        var btnSave = document.querySelector(".save-change");
        var setAreaRight = document.querySelector(".set-area-right");
        var itemClose = document.querySelector(".item-close-set");

        editSet.addEventListener("click", function(event) {

            event.preventDefault();

            if(btnSave.classList.contains("hidden-element")) {
                btnSave.classList.remove("hidden-element");
            }

            if(setAreaRight.classList.contains("hidden-element")) {
                setAreaRight.classList.remove("hidden-element");
            }
        })

        itemClose.addEventListener("click", function() {
            if(!btnSave.classList.contains("hidden-element")) {
                btnSave.classList.add("hidden-element");
            }

            if(!setAreaRight.classList.contains("hidden-element")) {
                setAreaRight.classList.add("hidden-element");
            }
        })
    </script>
</body>
</html>